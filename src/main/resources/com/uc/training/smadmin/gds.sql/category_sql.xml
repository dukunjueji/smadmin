<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="com.uc.training.smadmin.gds.dao.CategoryDao">
    <!--查找热门商品标签-->
    <select id="getCategoryList" resultClass="com.uc.training.smadmin.gds.re.CategoryRE">
        SELECT
        t.id AS id,
        t.name AS name,
        t.sort_num AS sortNum,
        t.parent_id As parentId
        FROM t_gds_category t
        WHERE t.is_delete = 0
        order by t.sort_num asc
    </select>
    <insert id="addCategory" parameterClass="com.uc.training.smadmin.gds.model.Category">
        insert into t_gds_category
        (`name`, sort_num, parent_id, is_delete, image_url, create_emp, modify_emp)
        values(#name#,#sortNum#,#parentId#,0,#imageUrl#,#createEmp#,#modifyEmp#)
        <selectKey resultClass="long" keyProperty="id">
            SELECT LAST_INSERT_ID() as id;
        </selectKey>
    </insert>
</sqlMap>